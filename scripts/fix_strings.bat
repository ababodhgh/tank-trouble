"@echo off\necho Fixing Secure String Functions for MinGW Compatibility\necho ====================================================\n\necho Creating backup of main.cpp...\ncopy main.cpp main.cpp.bak >nul\n\necho Fixing swprintf_s calls...\npowershell -Command \"(gc main.cpp) -replace 'swprintf_s\\(([^,]+), L\\\"([^\\\"]+)\\\"([^)]*)\\)', 'swprintf($1, 256, L\\\"$2\\\"$3)' | Out-File -encoding UTF8 main.cpp.tmp\"\nmove main.cpp.tmp main.cpp >nul\n\necho Fixing wcscpy_s calls...\npowershell -Command \"(gc main.cpp) -replace 'wcscpy_s\\(([^,]+), L\\\"([^\\\"]+)\\\"([^)]*)\\)', 'wcscpy($1, L\\\"$2\\\"$3)' | Out-File -encoding UTF8 main.cpp.tmp\"\nmove main.cpp.tmp main.cpp >nul\n\necho Adding conditional compilation for MinGW...\npowershell -Command \"(gc main.cpp) -replace 'swprintf\\(([^,]+), ([^,]+), L\\\"([^\\\"]+)\\\"([^)]*)\\)', '#ifdef __MINGW32__'$nl'swprintf($1, $2, L\\\"$3\\\"$4)'$nl'#else'$nl'swprintf_s($1, L\\\"$3\\\"$4)'$nl'#endif'\" | Out-File -encoding UTF8 main.cpp.tmp\"\nmove main.cpp.tmp main.cpp >nul\n\npowershell -Command \"(gc main.cpp) -replace 'wcscpy\\(([^,]+), L\\\"([^\\\"]+)\\\"([^)]*)\\)', '#ifdef __MINGW32__'$nl'wcscpy($1, L\\\"$2\\\"$3)'$nl'#else'$nl'wcscpy_s($1, L\\\"$2\\\"$3)'$nl'#endif'\" | Out-File -encoding UTF8 main.cpp.tmp\"\nmove main.cpp.tmp main.cpp >nul\n\necho Fix completed!\necho Run build_mingw.bat to test the compilation."